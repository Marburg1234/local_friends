<%= stylesheet_link_tag 'user_show', media: 'all', 'data-turbolinks-track': 'reload' %>

<div class="container d-flex justify-content-center flex-column">
  <div class="w-25 text-light text-center bg-info mt-3">
    <%= flash[:notice] %>
  </div>
  <div class="row">
    <div class="col text-center mt-2 mb-4">
  <h1 class="text-center"><strong><%= @user.first_name %>さんのユーザープロフィール</strong></h1>
    </div>
  </div>

  <div class="row d-flex justify-content-center">
    <div class="col mt-2 mb-5 border text-center">
      <!--フォロー機能のボタンを入れる ゲストログインの場合には、ボタンの表示なし-->
      <% if current_user.email == "guest@example.com" %>
      <% else %>
        <% if current_user != @user %>
          <% if @user.followed_by?(current_user) %>
            <%= link_to "フォロー外す", user_relationships_path(@user.id), method: :delete, class: 'btn btn-danger' %>
          <% else %>
            <%= link_to "フォローする", user_relationships_path(@user.id), method: :create, class: 'btn btn-info' %>
          <% end %>
        <% end %>
      <% end %>
      <!--chat開始ボタン-->
      <%= render 'public/chats/chat_start_btn', user: @user %>
    </div>
  </div>


<!--ユーザー情報は部分テンプレート化-->
<%= render 'layouts/user_show', user: @user, trips: @trips %>


